@page "/account/login"

@layout NightlifeCoordinationSPA.Layout.Layouts.AuthLayout.AuthLayout

<PageTitle>Nightlife - Login</PageTitle>

<EditForm Model="@Model" OnValidSubmit="OnValidSubmit">
    <DataAnnotationsValidator />

    <MudPaper Class="pa-10 py-12 d-flex justify-center align-center flex-column">
        <MudStack Spacing="1" Style="width: 100%; max-width: 100%;">
            <MudStack Spacing="3" Style="text-align: center;">
                <MudText Typo="Typo.h4">
                    Log In
                </MudText>
                <MudText>
                    Log in to your account
                </MudText>
            </MudStack>
            <MudStack Spacing="8">
                <MudStack Spacing="2">

                    @if (ShowErrorMessage)
                    {
                        <MudAlert Severity="Severity.Error" ShowCloseIcon="true"
                            CloseIconClicked="(()=> HandleCloseError())" Class="my-2">
                            @ErrorMessage
                        </MudAlert>
                    }

                    <MudTextField Label="Email" @bind-Value="Model.Email" For="@(() => Model.Email)" />

                    <MudTextField Label="Password" @bind-Value="Model.Password" For="@(() => Model.Password)"
                        InputType="@Password.PasswordInput" Adornment="Adornment.End"
                        AdornmentIcon="@Password.PasswordInputIcon" OnAdornmentClick="@Password.HandleShowPassword" />
                </MudStack>

                <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto"
                    Style="width: 100%;">
                    Login
                </MudButton>
            </MudStack>
        </MudStack>
    </MudPaper>
</EditForm>

<MudText Class="py-6" Style="width: 100%; text-align: center;">
    Don't have an account?
    <MudLink Href="/account/register" Match="NavLinkMatch.All" Color="Color.Secondary">
        Register
    </MudLink>
</MudText>
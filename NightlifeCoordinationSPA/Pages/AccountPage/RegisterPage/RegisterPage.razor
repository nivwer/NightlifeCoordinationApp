@page "/account/register"

@layout NightlifeCoordinationSPA.Layout.Layouts.AuthLayout.AuthLayout

<PageTitle>Nightlife - Register</PageTitle>

<EditForm Model="@Model" OnValidSubmit="OnValidSubmit">
    <DataAnnotationsValidator />

    <MudPaper Class="pa-10 py-12 d-flex justify-center align-center flex-column">
        <MudStack Spacing="1" Style="width: 100%; max-width: 100%;">
            <MudStack Spacing="3" Style="text-align: center;">
                <MudText Typo="Typo.h4">
                    Register
                </MudText>
                <MudText>
                    Create your account
                </MudText>
            </MudStack>
            <MudStack Spacing="8">
                <MudStack Spacing="2">

                    @if (ShowErrorMessage)
                    {
                        <MudAlert Severity="Severity.Error" ShowCloseIcon="true"
                            CloseIconClicked="(()=> HandleCloseError())" Class="my-2">
                            @ErrorMessage
                        </MudAlert>
                    }

                    <MudTextField Label="Email" @bind-Value="Model.Email" For="@(() => Model.Email)" />

                    <MudTextField Label="Password" @bind-Value="Model.Password" For="@(() => Model.Password)"
                        InputType="@Password.PasswordInput" Adornment="Adornment.End"
                        AdornmentIcon="@Password.PasswordInputIcon" OnAdornmentClick="@Password.HandleShowPassword" />

                    <MudTextField Label="Confirm Password" @bind-Value="Model.Password2" For="@(() => Model.Password2)"
                        InputType="@Password2.PasswordInput" Adornment="Adornment.End"
                        AdornmentIcon="@Password2.PasswordInputIcon" OnAdornmentClick="@Password2.HandleShowPassword" />
                </MudStack>

                <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto"
                    Style="width: 100%;">
                    Register
                </MudButton>
            </MudStack>
        </MudStack>
    </MudPaper>
</EditForm>

<MudText Class="py-6" Style="width: 100%; text-align: center;">
    Already have an account?
    <MudLink Href="/account/login" Match="NavLinkMatch.All" Color="Color.Secondary">
        Log In
    </MudLink>
</MudText>